{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Seed Manifest",
  "description": "Remote manifest.json hosted at the Data Root URL, listing all available data files for the auto-import system.",
  "type": "object",
  "required": ["version", "updated_at", "files"],
  "properties": {
    "version": {
      "type": "string",
      "const": "1",
      "description": "Manifest schema version"
    },
    "updated_at": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of when the manifest was last updated"
    },
    "files": {
      "type": "array",
      "description": "List of all available data files",
      "items": {
        "$ref": "#/$defs/DataFileEntry"
      }
    }
  },
  "$defs": {
    "DataFileEntry": {
      "type": "object",
      "required": ["filename", "sha512", "category", "size_bytes"],
      "properties": {
        "filename": {
          "type": "string",
          "description": "File name as it appears on the remote server",
          "examples": ["congress-2023-shape.zip", "Bibb-20260203.csv"]
        },
        "sha512": {
          "type": "string",
          "pattern": "^[a-f0-9]{128}$",
          "description": "Expected SHA512 hex digest (lowercase, 128 hex characters)"
        },
        "category": {
          "type": "string",
          "enum": ["boundary", "voter", "county_district", "reference"],
          "description": "File category determining how the file is imported"
        },
        "size_bytes": {
          "type": "integer",
          "minimum": 0,
          "description": "File size in bytes"
        }
      }
    }
  }
}
